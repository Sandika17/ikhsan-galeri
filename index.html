<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ikhsan Adhandika</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">

    <!-- Link Google Fonts for Dancing Script -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

    <style>
        body, html {
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
        }

        video {
            position: fixed;
            top: 0;
            left: 0;
            object-fit: cover;
        }

        #lyrics {
            text-align: center;
            font-family: 'Dancing Script', cursive;
            text-shadow: 0 0 8px rgba(156, 7, 7, 0.925), 
                         0 0 15px rgba(180, 0, 0, 0.5), 
                         0 0 20px rgba(120, 0, 0, 0.589),
                         0 0 30px rgba(80, 0, 0, 0.479);
        }

        /* Menambahkan kelas untuk mengatur posisi tombol play */
        #playPauseBtn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Memindahkan tombol ke tengah */
        }

        /* Mengatur posisi teks di atas tombol */
        #infoText {
            position: absolute;
            top: calc(50% - -100px); /* Menempatkan teks sedikit di atas tombol */
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }

        /* Menambahkan gaya untuk tombol yang hilang */
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="relative flex items-center justify-center min-h-screen bg-gray-100">

    <!-- Video background -->
    <video id="background-video" muted loop class="absolute top-0 left-0 w-full h-full object-cover z-[-1]">
        <source src="https://cdn.pixabay.com/video/2021/10/27/93480-640562082_tiny.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Background Music -->
    <audio id="background-music" loop muted>
        <source src="assets/sound.mp3" type="audio/mpeg">
        Your browser does not support the audio tag.
    </audio>

    <!-- Informational Text -->
    <div id="infoText" class="text-white bg-black bg-opacity-70 rounded-lg p-4">
        <p class="text-xl mb-2">"Setiap frasa adalah lagu yang tersembunyi,</p>
        <p class="text-xl">Tekan play, dan rasakan getarannya menghampiri."</p>
    </div>

    <!-- Tombol Play/Pause -->
    <button id="playPauseBtn" class="z-10 flex flex-col items-center justify-center bg-black bg-opacity-70 text-white rounded-full w-32 h-32 cursor-pointer">
        <span id="playPauseText" class="text-2xl">Play</span>
    </button>

    <!-- Lirik di tengah -->
    <div id="lyrics" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-3xl sm:text-5xl font-bold font-dancing opacity-0 transition-opacity"></div>

    <!-- Konten dengan posisi di atas video -->
    <div class="relative w-full h-full">
        <div class="absolute top-14 left-4 md:top-14 md:left-8 bg-white rounded-lg shadow-lg p-2 md:p-4 flex flex-col items-center transform rotate-[-10deg]">
            <img alt="Image" class="rounded-lg mb-2 md:mb-4 w-28 md:w-48" src="assets/img2.jpg"/>
        </div>
        <div class="absolute top-14 right-4 md:top-14 md:right-8 bg-white rounded-lg shadow-lg p-2 md:p-4 flex flex-col items-center transform rotate-[15deg]">
            <img alt="Image" class="rounded-lg mb-2 md:mb-4 w-32 md:w-44" src="assets/img1.jpg"/>
        </div>
        <div class="absolute bottom-14 left-4 md:bottom-8 md:left-8 bg-white rounded-lg shadow-lg p-2 md:p-4 flex flex-col items-center transform rotate-[-5deg]">
            <img alt="Image" class="rounded-lg mb-2 md:mb-4 w-32 md:w-48" src="assets/img3.jpg"/>
        </div>
        <div class="absolute bottom-14 right-4 md:bottom-8 md:right-8 bg-white rounded-lg shadow-lg p-2 md:p-4 flex flex-col items-center transform rotate-[5deg]">
            <img alt="Image" class="rounded-lg mb-2 md:mb-4 w-36 md:w-52" src="assets/img4.jpg"/>
        </div>
    </div>

    <script>
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playPauseText = document.getElementById('playPauseText');
    const audio = document.getElementById('background-music');
    const video = document.getElementById('background-video'); 
    const lyricsElement = document.getElementById('lyrics');
    const infoText = document.getElementById('infoText');

    let isPlaying = false;
    let hasShownInfoText = false; // Flag untuk melacak apakah infoText sudah ditampilkan

    const lyrics = [
        { start: 2, end: 5, text: "Ikhsan & Annisya" },
        { start: 6, end: 9, text: "Wahai cinta beri pertanda" },
        { start: 9, end: 13, text: "Dengar kupu-kupu yang bicara" },
        { start: 13, end: 15, text: "Bisingkan dada" },
        { start: 15, end: 21, text: "Melantunkan nada asmara" },
        { start: 21, end: 24, text: "Andai cinta setangkai bunga" },
        { start: 24, end: 29, text: "Takkan buat kau layu dan kecewa" },
        { start: 29, end: 37, text: "Kan ku jaga binar hatinya" },
    ];

    let currentLyric = 0;

    function resetLyrics() {
        currentLyric = 0;
        lyricsElement.style.opacity = "0";  // Hide lyrics after reset
    }

    function togglePlayPause() {
        if (isPlaying) {
            audio.pause();
            video.pause();
            playPauseText.textContent = "Play"; // Update text to "Play"
            playPauseBtn.classList.remove('hidden'); // Tampilkan kembali tombol play
        } else {
            audio.play();
            video.play();
            playPauseText.textContent = "Pause"; // Update text to "Pause"

            // Menyembunyikan teks info hanya pada pemutaran pertama
            if (!hasShownInfoText) {
                infoText.style.opacity = "0"; // Hide info text when playing
                hasShownInfoText = true; // Set flag menjadi true
            }

            // Menyembunyikan tombol pause setelah play diklik
            playPauseBtn.classList.add('hidden');
        }
        isPlaying = !isPlaying;
    }

    // Sinkronisasi lirik dengan audio
    audio.addEventListener('timeupdate', () => {
        const currentTime = Math.floor(audio.currentTime);

        if (currentLyric < lyrics.length) {
            const lyric = lyrics[currentLyric];

            if (currentTime >= lyric.start && currentTime <= lyric.end) {
                lyricsElement.textContent = lyric.text;
                lyricsElement.style.opacity = "1";  // Show lyrics
            } else if (currentTime > lyric.end) {
                lyricsElement.style.opacity = "0";  // Hide lyrics
                currentLyric++;
            }
        } else {
            resetLyrics();  // Reset the lyrics once the last lyric is reached
        }
    });

    // Ketika audio selesai, reset dan mulai dari awal
    audio.addEventListener('ended', () => {
        audio.currentTime = 0; // Start the song over
        resetLyrics(); // Reset lyrics when the song ends
        // Tampilkan kembali tombol play
        playPauseBtn.classList.remove('hidden');
        playPauseText.textContent = "Play"; // Reset teks tombol
    });

    playPauseBtn.addEventListener('click', togglePlayPause);

    // Hapus kode untuk auto play pada load
    window.addEventListener('load', function() {
        video.play(); // Hanya video yang diputar
        audio.muted = false; // Audio tetap di-mute
    });

    document.body.addEventListener('keydown', function(event) {
        if (event.code === 'Space') {
            togglePlayPause();
            playPauseBtn.classList.add('visible');
        }
    });

    document.body.addEventListener('mousemove', function() {
        if (!isPlaying) {
            playPauseBtn.classList.remove('hidden');
            playPauseBtn.classList.add('visible');
        }
    });
    </script>

</body>
</html>
